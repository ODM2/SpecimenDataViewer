<div class="col-xs-12" style="margin-bottom: 20px;">
  <div class="row">
    <div class="col-xs-12 col-sm-5">
      <md-card style="margin-top: 20px;">
        <md-card-content>
          <div class="row">
            <div class="col-xs-12 col-sm-3"><span>Date Range:</span></div>
            <div class="col-xs-12 col-sm-9">
              <div>
                <md-input-container>
                  <input mdInput
                         [mdDatepicker]="beginDate"
                         [(ngModel)]="__beginDate"
                         placeholder="Begin Date">
                  <button mdSuffix [mdDatepickerToggle]="beginDate"></button>
                </md-input-container>
                <md-datepicker #beginDate></md-datepicker>
                <button md-icon-button (click)="__beginDate = null"
                        mdTooltip="Clear"
                        [mdTooltipShowDelay]="500">
                  <md-icon>highlight_off</md-icon>
                </button>
              </div>

              <div>
                <md-input-container>
                  <input mdInput
                         [mdDatepicker]="endDate"
                         [(ngModel)]="__endDate"
                         placeholder="End Date">
                  <button mdSuffix [mdDatepickerToggle]="endDate"></button>
                </md-input-container>
                <md-datepicker #endDate></md-datepicker>
                <button md-icon-button (click)="__endDate = null"
                        mdTooltip="Clear"
                        [mdTooltipShowDelay]="500">
                  <md-icon>highlight_off</md-icon>
                </button>
              </div>
            </div>
          </div>
        </md-card-content>
      </md-card>
    </div>
  </div>
</div>

<div class="col-xs-12">
  <md-card>
    <md-card-content>
      <div class="row">
        <div class="col-xs-12 col-sm-3">
          <md-menu #appMenu="mdMenu" [overlapTrigger]="false">
            <button md-menu-item (click)="onDisplay('All')">
              <md-icon style="margin-right: 0;">{{ optionDisplay == 'All' ? 'check' : ''}}</md-icon>
              All
            </button>
            <button md-menu-item (click)="onDisplay('Selected')">
              <md-icon style="margin-right: 0;">{{ optionDisplay == 'Selected' ? 'check' : ''}}</md-icon>
              Selected
            </button>
            <button md-menu-item (click)="onDisplay('Plotted')">
              <md-icon style="margin-right: 0;">{{ optionDisplay == 'Plotted' ? 'check' : ''}}</md-icon>
              Plotted
            </button>
          </md-menu>

          <label style="margin-right: 8px;">Display:</label>
          <button id="btnSelectView" md-button md-raised-button [mdMenuTriggerFor]="appMenu">
            <span>{{ optionDisplay }}</span> <span class="caret"></span>
          </button>
        </div>

        <div class="col-xs-12 col-sm-6">
          <md-icon>search</md-icon>
          <md-input-container style="width: calc(100% - 71px);">
            <input mdInput placeholder="Search" [(ngModel)]="searchString">
          </md-input-container>
          <button md-icon-button (click)="clearSearch()"
                  mdTooltip="Clear"
                  [mdTooltipShowDelay]="500">
            <md-icon>highlight_off</md-icon>
          </button>
        </div>

        <div class="col-xs-12 col-sm-3 text-right">
          <button md-raised-button color="accent"
                  [disabled]="!flagIsSomeSelected"
                  (click)="plotSelected()"
          >
            <md-icon>assessment</md-icon>
            Plot
          </button>

          <!--<button md-raised-button color="primary" (click)="clearSelected()">-->
          <!--<md-icon>clear</md-icon>-->
          <!--Clear Selected-->
          <!--</button>-->

          <!--<button md-raised-button color="primary" (click)="loadDetails()">-->
          <!--<md-icon>assignment</md-icon>-->
          <!--Details...-->
          <!--</button>-->

          <button md-raised-button color="primary"
                  [disabled]="!flagIsSomeSelected">
            <md-icon>file_download</md-icon>
            Export
          </button>
        </div>
      </div>

      <br>

      <div class="col-xs-12 text-right">
        <small class="text-muted"><strong>Plotting:</strong> ({{this.plotCount}}/5)</small>
      </div>

      <table class="table table-striped table-hover md-shadow-1">
        <thead>
        <tr>
          <th>
            <md-checkbox [(ngModel)]="allSelected"
                         (click)="toggleSelectedAll()"></md-checkbox>
          </th>
          <!--<th>Type</th>-->
          <th>Network</th>
          <th>Site Code</th>
          <th>Site Name</th>
          <th>Medium</th>
          <th>Variable Code</th>
          <th>Variable Name</th>
          <th>Start Date</th>
          <th>End Date</th>
          <!--<th>Number of Values</th>-->
          <th>Actions</th>
        </tr>
        </thead>
        <tbody>

        <tr *ngFor="let entry of dataseries, let i = index"
            [style.display]="(optionDisplay=='All' || optionDisplay=='Selected' && entry.selected || optionDisplay=='Plotted' && entry.plotted) ? 'table-row' : 'none' "
            style="cursor: pointer;">
          <td>
            <md-checkbox [(ngModel)]="entry.selected" (change)="flagIsSomeSelected=isSomeSelected()"></md-checkbox>
          </td>
          <!--<td (click)="onToggleSelect(i)">{{ entry.type }}</td>-->
          <td (click)="toggleSelect(i)">{{ entry.network }}</td>
          <td (click)="toggleSelect(i)">{{ entry.siteCode }}</td>
          <td (click)="toggleSelect(i)">{{ entry.siteName }}</td>
          <td (click)="toggleSelect(i)">{{ entry.medium }}</td>
          <td (click)="toggleSelect(i)">{{ entry.variableCode }}</td>
          <td (click)="toggleSelect(i)">{{ entry.variableName }}</td>
          <td (click)="toggleSelect(i)">{{ entry.startDate | date }}</td>
          <td (click)="toggleSelect(i)">{{ entry.endDate | date}}</td>
          <!--<td (click)="onToggleSelect(i)">{{ entry.numberOfValues }}</td>-->
          <td>
            <button md-icon-button
                    (click)="togglePlot(i)"
                    mdTooltip="Plot"
                    [color]="entry.plotted ? 'accent' : 'primary'"
                    [mdTooltipShowDelay]="500">
              <md-icon>assessment</md-icon>
            </button>

            <button md-icon-button
                    mdTooltip="Export"
                    color="primary"
                    [mdTooltipShowDelay]="500">
              <md-icon>file_download</md-icon>
            </button>

            <button md-icon-button
                    (click)="openDetailsDialog('some data')"
                    mdTooltip="View Details"
                    color="primary"
                    [mdTooltipShowDelay]="500">
              <md-icon>more</md-icon>
            </button>
          </td>
        </tr>
        </tbody>
      </table>

      <div id="table-container-2" class="md-shadow-1">
        <md-table #table [dataSource]="dataSource">
          <!-- Selection Column -->
          <ng-container cdkColumnDef="selection">
            <md-header-cell *cdkHeaderCellDef>
              <md-checkbox [(ngModel)]="allSelected"
                         (click)="toggleSelectedAll()"></md-checkbox>
            </md-header-cell>

            <md-cell *cdkCellDef="let row">
              <md-checkbox (change)="flagIsSomeSelected=isSomeSelected()"></md-checkbox>
            </md-cell>
          </ng-container>

          <!-- Actions Column -->
          <ng-container cdkColumnDef="actions">
            <md-header-cell *cdkHeaderCellDef> Actions</md-header-cell>
            <md-cell *cdkCellDef="let row">
              <button md-icon-button
                      mdTooltip="Plot"
                      color="primary"
                      [mdTooltipShowDelay]="500">
                <md-icon>assessment</md-icon>
              </button>

              <button md-icon-button
                      mdTooltip="Export"
                      color="primary"
                      [mdTooltipShowDelay]="500">
                <md-icon>file_download</md-icon>
              </button>

              <button md-icon-button
                      (click)="openDetailsDialog('some data')"
                      mdTooltip="View Details"
                      color="primary"
                      [mdTooltipShowDelay]="500">
                <md-icon>more</md-icon>
              </button>
            </md-cell>
          </ng-container>

          <!-- StartDate Column -->
          <ng-container cdkColumnDef="endDate">
            <md-header-cell *cdkHeaderCellDef> End Date</md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.endDate.toLocaleString()}}</md-cell>
          </ng-container>

          <!-- StartDate Column -->
          <ng-container cdkColumnDef="startDate">
            <md-header-cell *cdkHeaderCellDef> Start Date</md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.startDate.toLocaleString()}}</md-cell>
          </ng-container>

          <!-- VariableName Column -->
          <ng-container cdkColumnDef="variableName">
            <md-header-cell *cdkHeaderCellDef> Variable Name</md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.variableName}}</md-cell>
          </ng-container>

          <!-- Site Name Column -->
          <ng-container cdkColumnDef="siteName">
            <md-header-cell *cdkHeaderCellDef> Site Name</md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.siteName}}</md-cell>
          </ng-container>

          <!-- Site Code Column -->
          <ng-container cdkColumnDef="siteCode">
            <md-header-cell *cdkHeaderCellDef> Site Code</md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.siteCode}}</md-cell>
          </ng-container>

          <!-- Network Column -->
          <ng-container cdkColumnDef="network">
            <md-header-cell *cdkHeaderCellDef> Network</md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.network}}</md-cell>
          </ng-container>

          <!-- Variable Code Column -->
          <ng-container cdkColumnDef="variableCode">
            <md-header-cell *cdkHeaderCellDef> Variable Code</md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.variableCode}}</md-cell>
          </ng-container>

          <!-- Medium Column -->
          <ng-container cdkColumnDef="medium">
            <md-header-cell *cdkHeaderCellDef> medium</md-header-cell>
            <md-cell *cdkCellDef="let row"> {{row.medium}}</md-cell>
          </ng-container>

        <md-header-row *cdkHeaderRowDef="displayedColumns"></md-header-row>
        <md-row *cdkRowDef="let row; columns: displayedColumns;"></md-row>
      </md-table>
      </div>

    </md-card-content>
  </md-card>
</div>
